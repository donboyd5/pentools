[{"path":"https://donboyd5.github.io/pentools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 pentools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://donboyd5.github.io/pentools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Gang Chen. Author. Don Boyd. Author, maintainer.","code":""},{"path":"https://donboyd5.github.io/pentools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chen G, Boyd D (2024). pentools: Tools Working pendata penmodel. R package version 0.3.3, https://donboyd5.github.io/pentools/.","code":"@Manual{,   title = {pentools: Tools for Working with pendata and penmodel},   author = {Gang Chen and Don Boyd},   year = {2024},   note = {R package version 0.3.3},   url = {https://donboyd5.github.io/pentools/}, }"},{"path":[]},{"path":"https://donboyd5.github.io/pentools/reference/annfactor.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","title":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","text":"function computes annuity factors series survival discount rates, incorporating cost--living adjustments (COLA). optionally supports one-time COLA adjustment.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/annfactor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","text":"","code":"annfactor(surv_DR_vec, cola_vec, one_time_cola = FALSE)"},{"path":"https://donboyd5.github.io/pentools/reference/annfactor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","text":"surv_DR_vec Numeric vector. vector survival discount rates, representing probabilities survival period. cola_vec Numeric vector. vector cost--living adjustment (COLA) rates period. one_time_cola Logical, optional. TRUE, one-time COLA applied (default FALSE), coded COLAs.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/annfactor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","text":"Numeric vector. vector annuity factors, considering COLAs element corresponds period's annuity factor.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/annfactor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Annuity Factors with Survival and Cost-of-Living Adjustments — annfactor","text":"","code":"# Example with survival discount rates and COLA rates surv_DR_vec <- c(1.0, 0.9, 0.8, 0.7) cola_vec <- c(0.02, 0.02, 0.02, 0.02) annfactor(surv_DR_vec, cola_vec) #> [1] 3.493166 2.715867 1.892500 1.000000  # Example with a one-time COLA annfactor(surv_DR_vec, cola_vec, one_time_cola = FALSE) #> [1] 3.493166 2.715867 1.892500 1.000000"},{"path":"https://donboyd5.github.io/pentools/reference/get_pmt0.html","id":null,"dir":"Reference","previous_headings":"","what":"#' npv calculates the present value of future cashflows (cf) #' #' @param rate Annual discount rate (scalar double). #' @param cf A list of cash flows in n=length(cf) number of years #' #' @return Numeric value. #' @export #' #' @examples #' cf <- c(100, 200, 300, 400, 500, 600) #' npv(0.05, cf) # 1704.37 #' @export npv <- function(rate, cf) df <- (1+rate)^(-(1:(length(cf)))) # Discount factor in each year based on rate pv <- sum(cf * df) # The sum of the product of cash flow and discount factor in each year is PV return(pv) #Annuity factor for current retirees' benefits #We need this function to calculate the annuity factors when a constant COLA is granted after the first year #' @export — get_pmt0","title":"#' npv calculates the present value of future cashflows (cf) #' #' @param rate Annual discount rate (scalar double). #' @param cf A list of cash flows in n=length(cf) number of years #' #' @return Numeric value. #' @export #' #' @examples #' cf <- c(100, 200, 300, 400, 500, 600) #' npv(0.05, cf) # 1704.37 #' @export npv <- function(rate, cf) df <- (1+rate)^(-(1:(length(cf)))) # Discount factor in each year based on rate pv <- sum(cf * df) # The sum of the product of cash flow and discount factor in each year is PV return(pv) #Annuity factor for current retirees' benefits #We need this function to calculate the annuity factors when a constant COLA is granted after the first year #' @export — get_pmt0","text":"#' npv calculates present value future cashflows (cf) #' #' @param rate Annual discount rate (scalar double). #' @param cf list cash flows n=length(cf) number years #' #' @return Numeric value. #' @export #' #' @examples #' cf <- c(100, 200, 300, 400, 500, 600) #' npv(0.05, cf)  # 1704.37 #' @export npv <- function(rate, cf) df <- (1+rate)^(-(1:(length(cf))))    # Discount factor year based rate pv <- sum(cf * df)                    # sum product cash flow discount factor year PV return(pv)  #Annuity factor current retirees' benefits #need function calculate annuity factors constant COLA granted first year #' @export","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pmt0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"#' npv calculates the present value of future cashflows (cf) #' #' @param rate Annual discount rate (scalar double). #' @param cf A list of cash flows in n=length(cf) number of years #' #' @return Numeric value. #' @export #' #' @examples #' cf <- c(100, 200, 300, 400, 500, 600) #' npv(0.05, cf) # 1704.37 #' @export npv <- function(rate, cf) df <- (1+rate)^(-(1:(length(cf)))) # Discount factor in each year based on rate pv <- sum(cf * df) # The sum of the product of cash flow and discount factor in each year is PV return(pv) #Annuity factor for current retirees' benefits #We need this function to calculate the annuity factors when a constant COLA is granted after the first year #' @export — get_pmt0","text":"","code":"get_pmt0(r, nper, pv)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Present Value Factor — get_pv","title":"Calculate Present Value Factor — get_pv","text":"function computes present value factor given interest rate time period.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Present Value Factor — get_pv","text":"","code":"get_pv(rate, t)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Present Value Factor — get_pv","text":"rate Numeric. interest rate per period decimal (e.g., 0.05 5%). t Numeric. time period present value factor calculated.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Present Value Factor — get_pv","text":"Numeric. present value factor, discount factor (1 + rate)^(-t)","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Present Value Factor — get_pv","text":"present value factor used discount future cash flows present value.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Present Value Factor — get_pv","text":"","code":"# Calculate the present value factor for a 5% interest rate over 3 periods get_pv(rate = 0.05, t = 3) #> [1] 0.8638376  # Calculate the present value factor for a 10% interest rate over 1 period get_pv(rate = 0.10, t = 1) #> [1] 0.9090909"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_cf_roll.html","id":null,"dir":"Reference","previous_headings":"","what":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","title":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","text":"get_pv_cf_roll returns remaining present value future cash flows (cf) every year forward","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_cf_roll.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","text":"","code":"get_pv_cf_roll(rate, cf)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_cf_roll.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","text":"rate Annual discount rate (scalar double). cf list cash flows n=length(cf) number years","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_cf_roll.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","text":"list numeric values","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_cf_roll.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get_pv_cf_roll returns the remaining present value of future cash flows (cf) in every year forward — get_pv_cf_roll","text":"","code":"cf <- c(100, 200, 300, 400, 500, 600) get_pv_cf_roll (0.05, cf) #$1,704.37 $1,609.13 $1,427.72 $1,168.57 $839.49) $447.73 #> [1] 1704.3686 1689.5870 1574.0664 1352.7697 1020.4082  571.4286"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_gpmt.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","title":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","text":"function computes present value series growing annuity payments specified time period, given interest rate growth rate.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_gpmt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","text":"","code":"get_pv_gpmt(rate, growth, t)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_gpmt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","text":"rate Numeric. interest rate per period decimal (e.g., 0.05 5%). growth Numeric. growth rate payments per period decimal (e.g., 0.02 2%). t Numeric. total number periods growing annuity payments.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_gpmt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","text":"Numeric. present value growing annuity payments.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_gpmt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Present Value of a Growing Annuity Payment — get_pv_gpmt","text":"","code":"# Present value of a growing annuity with 5% interest, 2% growth, over 10 periods get_pv_gpmt(rate = 0.05, growth = 0.02, t = 10) #> [1] 8.388106  # Present value of a growing annuity with 5% interest, 5% growth, over 10 periods get_pv_gpmt(rate = 0.05, growth = 0.05, t = 10)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_pmt.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Present Value of an Annuity Payment — get_pv_pmt","title":"Calculate Present Value of an Annuity Payment — get_pv_pmt","text":"function computes present value annuity payment given time period interest rate.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_pmt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Present Value of an Annuity Payment — get_pv_pmt","text":"","code":"get_pv_pmt(rate, t)"},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_pmt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Present Value of an Annuity Payment — get_pv_pmt","text":"rate Numeric. interest rate per period decimal (e.g., 0.05 5%). rate 0, present value equal total number periods. t Numeric. total number periods annuity payments.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_pmt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Present Value of an Annuity Payment — get_pv_pmt","text":"Numeric. present value annuity payments.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/get_pv_pmt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Present Value of an Annuity Payment — get_pv_pmt","text":"","code":"# Present value of an annuity with 5% interest over 10 periods get_pv_pmt(rate = 0.05, t = 10) #> [1] 7.721735  # Present value of an annuity with 0% interest over 10 periods get_pv_pmt(rate = 0, t = 10) #> [1] 10"},{"path":"https://donboyd5.github.io/pentools/reference/npv.html","id":null,"dir":"Reference","previous_headings":"","what":"npv calculates the present value of future cashflows (cf) — npv","title":"npv calculates the present value of future cashflows (cf) — npv","text":"npv calculates present value future cashflows (cf)","code":""},{"path":"https://donboyd5.github.io/pentools/reference/npv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"npv calculates the present value of future cashflows (cf) — npv","text":"","code":"npv(rate, cf)"},{"path":"https://donboyd5.github.io/pentools/reference/npv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"npv calculates the present value of future cashflows (cf) — npv","text":"rate Annual discount rate (scalar double). cf list cash flows n=length(cf) number years","code":""},{"path":"https://donboyd5.github.io/pentools/reference/npv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"npv calculates the present value of future cashflows (cf) — npv","text":"Numeric value.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/npv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"npv calculates the present value of future cashflows (cf) — npv","text":"","code":"cf <- c(100, 200, 300, 400, 500, 600) npv(0.05, cf)  # 1704.37 #> [1] 1704.369"},{"path":"https://donboyd5.github.io/pentools/reference/pv.html","id":null,"dir":"Reference","previous_headings":"","what":"Present Value of a Growing Annuity — pv","title":"Present Value of a Growing Annuity — pv","text":"function calculates present value (PV) growing annuity, taking account interest rate, growth rate, number periods, payment amount, timing payments.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/pv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Present Value of a Growing Annuity — pv","text":"","code":"pv(rate, g = 0, nper, pmt, t = 1)"},{"path":"https://donboyd5.github.io/pentools/reference/pv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Present Value of a Growing Annuity — pv","text":"rate Numeric. interest rate per period (e.g., 0.05 5%). g Numeric. growth rate payments per period (default 0). nper Integer. total number periods (e.g., 10 10 periods). pmt Numeric. payment amount per period. t Integer. Timing payments: t = 1: Payments occur end period (default). t = 0: Payments occur beginning period.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/pv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Present Value of a Growing Annuity — pv","text":"Numeric. present value growing annuity.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/pv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Present Value of a Growing Annuity — pv","text":"","code":"# Example: Calculate PV for a growing annuity pv(rate = 0.05, g = 0.02, nper = 10, pmt = 1000, t = 1) #> [1] 8388.106"},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":null,"dir":"Reference","previous_headings":"","what":"Rolling Present Value Calculation — roll_pv","title":"Rolling Present Value Calculation — roll_pv","text":"function computes rolling present value series payments (cash flows) time. first value pmt_vec vector must zero, placeholder calculations.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rolling Present Value Calculation — roll_pv","text":"","code":"roll_pv(rate, g = 0, nper, pmt_vec, t = 1)"},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rolling Present Value Calculation — roll_pv","text":"rate Numeric. interest rate per period (e.g., 0.05 5%). g Numeric. growth rate payments per period (default 0). nper Integer. total number periods (e.g., 10 10 periods). pmt_vec Numeric vector. vector payment amounts periods. first value vector must zero. t Integer. Timing payments: t = 1: Payments occur end period (default). t = 0: Payments occur beginning period.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rolling Present Value Calculation — roll_pv","text":"Numeric vector. vector containing rolling present values period.","code":""},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rolling Present Value Calculation — roll_pv","text":"rolling present value calculated iteratively: first period (= 1), present value calculated using pv function second payment. subsequent periods (> 1), present value updated rolling forward previous value interest subtracting adjusted payment. formula rolling present value : $$PV[] = PV[-1] \\cdot (1 + rate) - pmt_vec[] \\cdot (1 + rate)^{1 - t}$$","code":""},{"path":[]},{"path":"https://donboyd5.github.io/pentools/reference/roll_pv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rolling Present Value Calculation — roll_pv","text":"","code":"# Example: Calculate rolling PV for a series of payments pmt_vec <- c(0, 1000, 1200, 1300, 1100, 1400) roll_pv(rate = 0.05, g = 0.02, nper = 10, pmt_vec = pmt_vec, t = 1) #> [1] 8388.106 7807.511 6997.886 6047.781 5250.170 4112.678"}]
